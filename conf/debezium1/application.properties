# =============================================================
# Debezium Server 1 â€” application.properties
# Captures CDC events from shorisql_1 -> Redpanda
# =============================================================

# ---- Sink: Redpanda via Kafka protocol ----
debezium.sink.type=kafka
debezium.sink.kafka.producer.bootstrap.servers=redpanda:9092
debezium.sink.kafka.producer.key.serializer=org.apache.kafka.common.serialization.StringSerializer
debezium.sink.kafka.producer.value.serializer=org.apache.kafka.common.serialization.StringSerializer

# ---- Source: SQL Server CDC connector ----
debezium.source.connector.class=io.debezium.connector.sqlserver.SqlServerConnector
debezium.source.database.hostname=shorisql_1
debezium.source.database.port=1433
debezium.source.database.user=sa
debezium.source.database.password=YourStr0ngP@ssw0rd!
debezium.source.database.names=ShoriDB_1
debezium.source.topic.prefix=shorisql_1
debezium.source.database.encrypt=false

# ---- Offset storage (file-based, persisted via Docker volume) ----
debezium.source.offset.storage.file.filename=data/offsets.dat
debezium.source.offset.flush.interval.ms=0

# ---- Schema history (stored in a Redpanda topic) ----
debezium.source.schema.history.internal=io.debezium.storage.kafka.history.KafkaSchemaHistory
debezium.source.schema.history.internal.kafka.bootstrap.servers=redpanda:9092
debezium.source.schema.history.internal.kafka.topic=schema-changes.shorisql_1

# ---- Polling ----
debezium.source.poll.interval.ms=10
debezium.source.max.batch.size=8192
debezium.source.max.queue.size=16384

# ---- Format: JSON with schema envelope ----
debezium.format.key=json
debezium.format.value=json
